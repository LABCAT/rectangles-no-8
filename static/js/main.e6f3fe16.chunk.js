(this["webpackJsonprectangles-no-8"]=this["webpackJsonprectangles-no-8"]||[]).push([[0],{15:function(e,t,i){},31:function(e,t,i){"use strict";i.r(t);var s=i(1),n=i.n(s),a=i(9),h=i.n(a),o=(i(15),i(2));window.p5=o;i(20);var r=i(10),c=i(0);function d(){return Object(c.jsxs)("svg",{id:"play-icon",className:"fade-out",xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 24 24",width:"24",children:[Object(c.jsx)("path",{d:"M0 0h24v24H0z",fill:"none"}),Object(c.jsx)("path",{d:"M10 16.5l6-4.5-6-4.5v9zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"})]})}class l{constructor(e,t,i,s,n){this.dead=!1,this.cellSize=10,this.p=e,this.x=t,this.y=i,this.size=s,this.hue=n,this.colour=this.p.color(n,100,100,.5),this.segCount=this.p.random(2,10),this.segs=[],this.dir=window.p5.Vector.fromAngle(this.p.floor(this.p.random(4))*(this.p.TWO_PI/4)).mult(this.cellSize),this.pos=this.p.createVector(Math.ceil(this.p.random(this.size)/this.cellSize)*this.cellSize,Math.ceil(this.p.random(this.size)/this.cellSize)*this.cellSize),this.newPos=this.p.createVector(0,0),this.segs.push(this.pos),this.updateCount=0}update(){Math.random()<.3&&this.dir.rotate(Math.random()<.5?-this.p.PI/2:this.p.PI/2),this.newPos=window.p5.Vector.add(this.pos,this.dir),this.segs.unshift(this.newPos),this.pos=this.newPos,this.segs.length>this.p.segCount&&this.segs.pop(),this.updateCount++}draw(){this.p.stroke(this.colour),this.dead=!0;for(var e=0;e<this.segs.length-1;e++){var t=this.segs[e],i=this.segs[e+1];t.x>=0&&t.x<=this.size&&t.y>=0&&t.y<=this.size&&i.x>=0&&i.x<=this.size&&i.y>=0&&i.y<=this.size&&(this.p.line(t.x+this.x,t.y+this.y,i.x+this.x,i.y+this.y),this.p.line(t.y+this.x,t.x+this.y,i.y+this.x,i.x+this.y),this.p.line(this.size-t.x+this.x,t.y+this.y,this.size-i.x+this.x,i.y+this.y),this.p.line(this.size-t.y+this.x,t.x+this.y,this.size-i.y+this.x,i.x+this.y),this.p.line(t.x+this.x,this.size-t.y+this.y,i.x+this.x,this.size-i.y+this.y),this.p.line(t.y+this.x,this.size-t.x+this.y,i.y+this.x,this.size-i.x+this.y),this.p.line(this.size-t.x+this.x,this.size-t.y+this.y,this.size-i.x+this.x,this.size-i.y+this.y),this.p.line(this.size-t.y+this.x,this.size-t.x+this.y,this.size-i.y+this.x,this.size-i.x+this.y))}Math.random()<.95&&(this.dead=!1),this.p.noFill()}}var u=i.p+"static/media/rectangles-no-8.422ad91e.ogg",p=i.p+"static/media/rectangles-no-8.ba50fbfe.mid";var g=()=>{const e=Object(s.useRef)(),t=e=>{e.canvas=null,e.canvasWidth=window.innerWidth,e.canvasHeight=window.innerHeight,e.audioLoaded=!1,e.player=null,e.PPQ=15360,e.loadMidi=()=>{r.Midi.fromUrl(p).then((function(t){console.log(t);const i=t.tracks[4].notes.filter((e=>43!==e.midi));e.scheduleCueSet(i,"executeCueSet1");const s=t.tracks[2].notes;e.scheduleCueSet(s,"executeCueSet2");const n=t.tracks[9].notes;e.scheduleCueSet(n,"executeCueSet3");const a=t.tracks[5].notes;e.scheduleCueSet(a,"executeCueSet4");const h=t.tracks[6].notes;e.scheduleCueSet(h,"executeCueSet5"),e.audioLoaded=!0,document.getElementById("loader").classList.add("loading--complete"),document.getElementById("play-icon").classList.remove("fade-out")}))},e.preload=()=>{e.song=e.loadSound(u,e.loadMidi),e.song.onended(e.logCredits)},e.scheduleCueSet=function(t,i){let s=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=-1,a=1;for(let h=0;h<t.length;h++){const o=t[h],{ticks:r,time:c}=o;(r!==n||s)&&(o.currentCue=a,e.song.addCue(c,e[i],o),n=r,a++)}},e.gridCells=[],e.bgRect=null,e.setup=()=>{e.canvas=e.createCanvas(e.canvasWidth,e.canvasHeight),e.colorMode(e.HSB),e.rectMode(e.CENTER),e.background(0,0,0,.5),e.strokeWeight(3);let t=16,i=8;e.horizontalGrid=!0,e.cellSize=e.height/9,e.height>e.width&&(e.horizontalGrid=!1,e.cellSize=e.width/9,t=8,i=16);for(let s=0;s<t;s++)for(let t=0;t<i;t++)e.gridCells.push({x:s*e.cellSize,y:t*e.cellSize,size:.9*e.cellSize,pattern:void 0});e.translateX=(e.width-t*e.cellSize)/2+e.cellSize/2,e.translateY=(e.height-i*e.cellSize)/2+e.cellSize/2,e.translate(e.translateX,e.translateY)},e.draw=()=>{if(e.background(0,0,0),e.translate(e.translateX,e.translateY),e.bgRect){const{width:t,height:i,hue:s}=e.bgRect,n=e.width/2-e.translateX,a=e.height/2-e.translateY;e.stroke(s,100,100,0),e.fill(s,100,100,.2),e.rect(n,a,t,i),e.fill(s,100,100,.4),e.rect(n,a,t/2,i/2),e.fill(s,100,100,.6),e.rect(n,a,t/4,i/4),e.bgRect.width=e.bgRect.width+e.width/10,e.bgRect.height=e.bgRect.height+e.height/10}e.stroke(0,0,0);for(let t=0;t<e.gridCells.length;t++){const i=e.gridCells[t],{x:s,y:n,size:a,pattern:h}=i;void 0===h?(e.stroke(0,0,100),e.fill(0,0,100),e.rect(s,n,a,a)):(e.fill(0,0,0),e.rect(s,n,a,a),e.stroke(h.hue,100,100),e.fill(h.hue,100,100,.25),e.rect(s,n,a,a),h.update(),h.draw())}e.translate(-e.translateX,-e.translateY)},e.executeCueSet1=t=>{const{currentCue:i}=t;i%29===1&&i<120&&e.gridCells.forEach((e=>{e.pattern=void 0}))},e.executeCueSet2=t=>{const i=e.gridCells.filter((e=>void 0===e.pattern)),s=e.random(i);s.pattern=new l(e,s.x-s.size/2,s.y-s.size/2,s.size,0)},e.executeCueSet3=t=>{const i=e.gridCells.filter((e=>void 0===e.pattern)),s=e.random(i);s.pattern=new l(e,s.x-s.size/2,s.y-s.size/2,s.size,210)},e.executeCueSet4=t=>{const i=e.gridCells.filter((e=>void 0===e.pattern)),s=e.random(i);s.pattern=new l(e,s.x-s.size/2,s.y-s.size/2,s.size,90)},e.impactHues=[330,30,60,180,270,300],e.currentImpactHue=330,e.executeCueSet5=t=>{const{durationTicks:i,currentCue:s}=t;s%12===0&&(e.currentImpactHue=e.random(e.impactHues.filter((t=>t!==e.currentImpactHue))));const n=e.gridCells.filter((e=>void 0===e.pattern)),a=e.random(n);a.pattern=new l(e,a.x-a.size/2,a.y-a.size/2,a.size,e.currentImpactHue),i>19e3&&(e.bgRect={width:e.width/1e3,height:e.height/1e3,hue:e.currentImpactHue})},e.hasStarted=!1,e.mousePressed=()=>{e.audioLoaded&&(e.song.isPlaying()?e.song.pause():(parseInt(e.song.currentTime())>=parseInt(e.song.buffer.duration)&&(e.reset(),"undefined"!==typeof window.dataLayer&&window.dataLayer.push({event:"play-animation",animation:{title:document.title,location:window.location.href,action:"replaying"}})),document.getElementById("play-icon").classList.add("fade-out"),e.canvas.addClass("fade-in"),e.song.play(),"undefined"===typeof window.dataLayer||e.hasStarted||(window.dataLayer.push({event:"play-animation",animation:{title:document.title,location:window.location.href,action:"start playing"}}),e.hasStarted=!1)))},e.creditsLogged=!1,e.logCredits=()=>{!e.creditsLogged&&parseInt(e.song.currentTime())>=parseInt(e.song.buffer.duration)&&(e.creditsLogged=!0,console.log("Music By: http://labcat.nz/","\n","Animation By: https://github.com/LABCAT/"),e.song.stop())},e.reset=()=>{},e.updateCanvasDimensions=()=>{e.canvasWidth=window.innerWidth,e.canvasHeight=window.innerHeight,e.canvas=e.resizeCanvas(e.canvasWidth,e.canvasHeight)},window.attachEvent?window.attachEvent("onresize",(function(){e.updateCanvasDimensions()})):window.addEventListener&&window.addEventListener("resize",(function(){e.updateCanvasDimensions()}),!0)};return Object(s.useEffect)((()=>{new o(t,e.current)}),[]),Object(c.jsx)("div",{ref:e,children:Object(c.jsx)(d,{})})};var y=function(){return Object(c.jsx)(g,{})};h.a.render(Object(c.jsx)(n.a.StrictMode,{children:Object(c.jsx)(y,{})}),document.getElementById("root"))}},[[31,1,2]]]);
//# sourceMappingURL=main.e6f3fe16.chunk.js.map